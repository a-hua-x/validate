const e=function(e){return String(e)},r=function(e){return Number(e)},n=function(e){return Array.isArray(e)&&e.length<=0},t=function(r,n){return n=e(n),r.test(n)},a={nullOrEmpty:function(e){return null===e||""===e||void 0===e||n(e)},mobile:function(e){return t(/^(?:13\d|14\d|15\d|16\d|17\d|18\d|19\d)\d{5}(\d{3}|\*{3})$/,e)},email:function(e){return t(/^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/,e)},carNo:function(e){return 7===e.length?t(/^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}[A-HJ-NP-Z0-9]{4}[A-HJ-NP-Z0-9挂学警港澳]{1}$/,e):8===e.length&&t(/^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}(([0-9]{5}[DF]$)|([DF][A-HJ-NP-Z0-9][0-9]{4}$))/,e)},idCard:function(r){const n=e(r);if(15==n.length)return this.validityBrithBy15IdCard(r);if(18==n.length){const e=n.split("");return this.validityBrithBy18IdCard(n)&&this.trueValidateCodeBy18IdCard(e)}return!1},trueValidateCodeBy18IdCard:function(n){let t=0;const a=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2,1];"x"==e(n[17]).toLowerCase()&&(n[17]=10);for(let e=0;e<17;e++)t+=a[e]*r(n[e]);const i=t%11;return n[17]==[1,0,10,9,8,7,6,5,4,3,2][i]},validityBrithBy18IdCard:function(e){const n=r(e.substring(6,10)),t=e.substring(10,12),a=e.substring(12,14),i=new Date(n,parseFloat(t)-1,parseFloat(a));return!(i.getFullYear()!=parseFloat(String(n))||i.getMonth()!=parseFloat(t)-1||i.getDate()!=parseFloat(a))},validityBrithBy15IdCard:function(e){const n=r(e.substring(6,8)),t=e.substring(8,10),a=e.substring(10,12),i=new Date(n,parseFloat(t)-1,parseFloat(a));return!(i.getFullYear()!=parseFloat(String(n))||i.getMonth()!=parseFloat(t)-1||i.getDate()!=parseFloat(a))},amount:function(e){return t(/^([0-9]*[.]?[0-9])[0-9]{0,1}$/,e)},number:function(e){return t(/^[0-9]+$/,e)},chinese:function(e){return""!==e&&t(/^[\u4e00-\u9fa5]+$/,e)&&!this.special(e)&&!this.emoji(e)},notChinese:function(e){return!t(/.*[\u4e00-\u9fa5]+.*$/,e)},english:function(e){return t(/^[a-zA-Z]*$/,e)},enAndNo:function(e){return t(/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,32}$/,e)},enOrNo:function(e,r=!0){return!(t(/.*[\u4e00-\u9fa5]+.*$/,e)||r&&this.special(e)||this.email(e))},special:function(e){return t(/[`~!@$%^&*()_+<>?:"{},.\/;'[\]]/im,e)||t(/[·！￥（——）：；“”‘、，|《。》？、【】[\]]/im,e)},enAndNoANSpecial:function(e){return 2!==[t(/\d/,e),t(/[a-zA-Z]/,e),this.special(e)].filter(Boolean).length},emoji:function(e){return t(/\uD83C[\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F]/g,e)},date:function(e){return t(/^(?:(?!0000)[0-9]{4}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)-02-29)$/,e)},url:function(e){return t(/^((https?|ftp|file):\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})(:[0-9]{1,5})?((\/?)|(\/[\\\w_!~*\\'()\\\.;?:@&=+$,%-]+)+\/?)$/,e)},same:function(e,r){return e===r},range:function(e,r,n){return!r&&0!=r&&!n&&0!=n||(r||0==r?n||0==n?e>=r&&e<=n:e>=r:e<=n)},minLength:function(e,n){return e.length>=r(n)},maxLength:function(e,n){return e.length<=r(n)},keyword:function(e,r){let n=!0;if(!r)return n;const t=r.split(",");for(let r=0,a=t.length;r<a;r++)if(~e.indexOf(t[r])){n=!1;break}return n}},i={...a};function o(e,r){return new Promise(((n,t)=>{r=Array.isArray(r)?r:[r];for(const n of r){let{name:r,rule:o,message:s,validator:u}=n;const l=e[r];if(r in e&&r){o="function"==typeof o?o():o,o=Array.isArray(o)?o:[o],s="function"==typeof s?s():s,s=Array.isArray(s)?s:[s],u=Array.isArray(u)?u:u?[u]:[],u=u.filter(Boolean);for(let r=0;r<o.length;r++){let n=o[r];const i=s[r];if(!i||!n)continue;let u="";if(n.includes(":")){const e=n.split(":");n=e[0],u=e[1]}let c=!1;switch(n){case"required":c=a.nullOrEmpty(l);break;case"mobile":c=!a.mobile(l);break;case"email":c=!a.email(l);break;case"carNo":c=!a.carNo(l);break;case"idCard":c=!a.idCard(l);break;case"amount":c=!a.amount(l);break;case"number":c=!a.number(l);break;case"chinese":c=!a.chinese(l);break;case"notChinese":c=!a.notChinese(l);break;case"english":c=!a.english(l);break;case"enAndNo":c=!a.enAndNo(l);break;case"enOrNo":c=!a.enOrNo(l);break;case"special":c=a.special(l);break;case"emoji":c=a.emoji(l);break;case"enAndNoANSpecial":c=a.enAndNoANSpecial(l);break;case"date":c=!a.date(l);break;case"url":c=!a.url(l);break;case"same":c=!a.same(l,e[u]);break;case"range":{let e=null;try{e=JSON.parse(u),e.length<=1&&t(new Error("range值传入有误！"))}catch(e){t(new Error("range值传入有误！"))}c=!a.range(l,e[0],e[1]);break}case"minLength":c=!!l&&!a.minLength(l,u);break;case"maxLength":c=!a.maxLength(l,u);break;case"keyword":c=!a.keyword(l,u)}c&&t(new Error(i))}for(const e of u){const{callBack:r}=e;let n="function"==typeof e.message?e.message():e.message;n=Array.isArray(n)?n:[n],r&&!r(l,i)&&t(new Error(n))}}}n()}))}delete i.trueValidateCodeBy18IdCard,delete i.validityBrithBy18IdCard,delete i.validityBrithBy15IdCard;export default o;